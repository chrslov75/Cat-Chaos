<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Cat Chaos Defender</title><meta name="apple-mobile-web-app-capable" content="yes"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#FFE4E1;overflow:hidden;font-family:system-ui}canvas{display:block;width:100vw;height:100vh;background:#F5F5DC}#i{position:fixed;top:10px;left:50%;transform:translateX(-50%);color:#333;font:bold 4.5vw system-ui;text-align:center;z-index:10}</style></head><body><div id="i">Tap cats to scare them!<br>Kermit ğŸˆâ€â¬› throws glasses!</div><canvas id="c"></canvas><script>
const canvas=document.getElementById('c'),ctx=canvas.getContext('2d'),dpr=devicePixelRatio||1;
canvas.width=innerWidth*dpr;canvas.height=innerHeight*dpr;ctx.scale(dpr,dpr);
addEventListener('resize',()=>{canvas.width=innerWidth*dpr;canvas.height=innerHeight*dpr;ctx.scale(dpr,dpr)});
let score=0,high=localStorage.high||0,lives=5,items=[],cats=[],glass=[],frame=0,sp=0,intv=100,game=1;
const catsEmoji={o:'ğŸ±',n:'ğŸˆ',d:'ğŸˆ',c:'ğŸ±',k:'ğŸˆâ€â¬›'}; // Chester = gray tabby
function init(){items=[];lives=5;for(let i=0;i<5;i++)items.push({x:innerWidth*.7+20+i*45,y:innerHeight*.65-40,type:Math.random()>.5?'g':'l'})}
function spawn(){const t='ondck'[Math.floor(Math.random()*5)],k=t==='k',vx=(1.5+Math.random()*.8+(k?1.5:0))*(innerWidth/800),y=[innerHeight*.38,innerHeight*.48,innerHeight*.58,innerHeight*.68][Math.floor(Math.random()*4)];cats.push({x:-80,y,vx,t,s:0,pf:Math.random()*80|0});if(k)sound('laugh')}
function lose(){if(lives-->0&&items.length)items.splice(Math.random()*items.length|0,1);if(lives<=0){game=0;sound('break')}}
function sound(t){const a=new AudioContext(),o=a.createOscillator(),g=a.createGain();o.type=t==='laugh'?'triangle':t==='break'?'sawtooth':'sine';o.frequency.value=t==='laugh'?110:t==='break'?70:900;g.gain.setValueAtTime(0.4,a.currentTime);g.gain.exponentialRampToValueAtTime(0.01,a.currentTime+0.3);o.connect(g);g.connect(a.destination);o.start();o.stop(a.currentTime+0.3)}
function tap(e){e.preventDefault();if(!game){game=1;score=0;frame=sp=0;cats=glass=[];init();spawn();return}const mx=(e.touches?e.touches[0].clientX:e.clientX)*dpr,my=(e.touches?e.touches[0].clientY:e.clientY)*dpr;for(let i=cats.length;i--;){const cat=cats[i],dx=mx-cat.x*dpr,dy=my-cat.y*dpr;if(dx*dx+dy*dy<7000){cat.s=1;cat.vx=-7;score+=10;sound('meow');return}}}
canvas.addEventListener('touchstart',tap,{passive:false});canvas.addEventListener('click',tap);
function loop(){
if(game){frame++;sp++;intv=Math.max(25,100-score/40|0);if(sp>intv){spawn();sp=0}
for(let i=cats.length;i--;){const cat=cats[i];cat.x+=cat.vx;if(cat.s){if(cat.x<-120)cats.splice(i,1)}else{if(cat.t==='k'){cat.pf++;if(cat.pf>70){glass.push({x:cat.x+30,y:cat.y+10,vx:cat.vx+3});cat.pf=0}}if(cat.x>innerWidth*.7){lose();cats.splice(i,1)}}}
for(let i=glass.length;i--;){const g=glass[i];g.x+=g.vx;if(g.x>innerWidth*.7){lose();glass.splice(i,1)}}}
ctx.clearRect(0,0,innerWidth,innerHeight);
ctx.fillStyle='#E0D7C0';ctx.fillRect(0,0,innerWidth,innerHeight*.4);
ctx.fillStyle='#8B4513';ctx.fillRect(0,innerHeight*.85,innerWidth,innerHeight*.15);
ctx.fillStyle='#D2691E';ctx.fillRect(innerWidth*.65,innerHeight*.65,innerWidth*.25,innerHeight*.08);
items.forEach(o=>{ctx.save();ctx.translate(o.x,o.y);ctx.scale(1.5,1.5);ctx.font='40px Arial';ctx.fillText(o.type==='g'?'ğŸ¥›':'ğŸ’¡',0,20);ctx.restore()});
cats.forEach(cat=>{ctx.save();ctx.scale(cat.s?-1.6:1.6,1.6);ctx.font='65px Arial';ctx.fillText(catsEmoji[cat.t],cat.x/(cat.s?-1:1),cat.y);ctx.restore()});
glass.forEach(g=>{ctx.save();ctx.translate(g.x,g.y);ctx.scale(1.4,1.4);ctx.font='40px Arial';ctx.fillText('ğŸ¥›',0,20);ctx.restore()});
ctx.fillStyle='#FFF';ctx.font='bold 48px Arial';ctx.fillText('Score: '+score,20,60);
for(let i=0;i<l;i++)ctx.font='48px Arial',ctx.fillText('â¤ï¸',innerWidth*.7+20+i*55,60);
if(score>high){high=score;localStorage.high=high}
ctx.fillText('High: '+high,innerWidth/2,60);
if(!game){ctx.fillStyle='rgba(0,0,0,.8)';ctx.fillRect(0,0,innerWidth,innerHeight);ctx.fillStyle='#FFF';ctx.textAlign='center';ctx.font='bold 60px Arial';ctx.fillText('Game Over!',innerWidth/2,innerHeight/2);ctx.fillText('Score '+score,innerWidth/2,innerHeight/2+80);ctx.fillText('Tap to play again',innerWidth/2,innerHeight/2+160)}}
requestAnimationFrame(loop);
init();spawn();loop();
</script></body></html>